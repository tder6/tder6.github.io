对于第 $i$ 题来说：

- 总情况数即为在 $n$ 个同学里面选 $a_i$ 个同学错，即 $\displaystyle\binom{n}{a_i}$ 种；
- 接下来考虑满足题意的方案数，$k$ 名同学都对，也就是错的同学都在剩下的 $n-k$ 个同学中，方案数也就是在 $n-k$ 个同学里面选 $a_i$ 个同学错，即 $\displaystyle\binom{n-k}{a_i}$ 种。	

故所求即为：

$$
\prod_{i=1}^m\frac{\binom{n-k}{a_i}}{\binom{n}{a_i}}
$$

注意特判 $n-k<a_i$ 时的无解情况。

---

```cpp
#include <bits/stdc++.h>
using namespace std;
#define int long long
#define endl '\n'
const int N = 1e5 + 5, M = 998244353;
namespace Count {
	int f[N], v[N];
	int qpow(int b, int p, int k = M) {
		int r = 1;
		while(p) {
			if(p % 2) r *= b, r %= k;
			p /= 2;
			b *= b, b %= k;
		}
		return r;
	}
	void init(int n, int k = M) {
		f[0] = 1;
		for(int i = 1; i <= n; i++) f[i] = f[i - 1] * i, f[i] %= k;
		int m = min(n, k - 1);
		v[m] = qpow(f[m], k - 2);
		for(int i = m - 1; i >= 0; i--) v[i] = v[i + 1] * (i + 1), v[i] %= k;
	}
	int get(int a, int b, int k = M) {
		if(a < b) return 0;
		else return (f[a] * v[b] % k) * v[a - b] % k;
	}
	int lucas(int a, int b, int k = M) {
		if(!b) return 1;
		else return (get(a % k, b % k) * lucas(a / k, b / k)) % k;
	}
}
using namespace Count;
int n, m, k, a[N], ans = 1;
signed main() {
	init(N - 5);
	cin>>n>>m>>k;
	for(int i = 1; i <= m; i++) cin>>a[i];
	for(int i = 1; i <= m; i++) 
		if(a[i] <= n - k) ans *= get(n - k, a[i]) * qpow(get(n, a[i]), M - 2) % M, ans %= M;
		else cout<<0<<endl, exit(0);
	cout<<ans<<endl;
}
```